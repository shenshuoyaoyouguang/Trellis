{
  "version": "0.3.0-beta.7",
  "description": "Windows compatibility fixes and hook JSON format corrections",
  "breaking": false,
  "recommendMigrate": true,
  "changelog": "Fixes for Windows compatibility (Issue #19) and Claude Code hook JSON format (Issue #18). Hook commands now use `python3` directly. Windows users may need to manually update `.claude/settings.json` if `python3` is not available on their system.",
  "migrationGuide": "# Migration Guide: v0.3.0-beta.7 Windows Compatibility\n\n## Overview\n\nThis release fixes Windows compatibility issues and corrects the Claude Code hook JSON output format.\n\n## What Changed\n\n### Hook JSON Format (Issue #18)\n\nSessionStart hooks now output the correct JSON format expected by Claude Code:\n\n```json\n{\n  \"hookSpecificOutput\": {\n    \"hookEventName\": \"SessionStart\",\n    \"additionalContext\": \"...\"\n  }\n}\n```\n\n### UTF-8 Encoding (Issue #19)\n\n- Git commands now force UTF-8 output encoding\n- Python subprocess calls use `encoding=\"utf-8\"` and `errors=\"replace\"`\n- Cross-platform `tail_follow()` implementation in status.py\n\n### Hook Command Change\n\nHook commands in `.claude/settings.json` now use `python3` directly:\n\n```json\n\"command\": \"python3 .claude/hooks/session-start.py\"\n```\n\n## Windows Users: Manual Step Required\n\nIf your Windows system uses `python` instead of `python3`, you need to manually update `.claude/settings.json`:\n\n1. Open `.claude/settings.json`\n2. Find all `\"command\": \"python3 ...\"` entries\n3. Change `python3` to `python` if needed\n\nExample:\n```json\n// Before (if python3 not available)\n\"command\": \"python3 .claude/hooks/session-start.py\"\n\n// After\n\"command\": \"python .claude/hooks/session-start.py\"\n```\n\n## Affected Files\n\n- `.claude/settings.json` - Hook commands updated\n- `.claude/hooks/session-start.py` - JSON format fixed\n- `.trellis/scripts/common/git_context.py` - UTF-8 encoding\n- `.trellis/scripts/multi_agent/status.py` - Cross-platform tail\n- Other scripts - UTF-8 encoding fixes",
  "aiInstructions": "1. Update `.claude/settings.json` hook commands to use `python3`\n2. If user reports Python not found on Windows, guide them to change `python3` to `python` in settings.json\n3. Verify hook scripts output correct JSON format\n4. Check that git commands work with non-ASCII characters",
  "migrations": [],
  "notes": "This is a compatibility fix release. No file migrations required. Windows users using `python` instead of `python3` should manually update their `.claude/settings.json` file."
}
